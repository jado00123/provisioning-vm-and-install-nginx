
# Azure Virtual Network Project

## Project Goal
The goal of this project is to create a sandbox environment on **Microsoft Azure** to understand how cloud resources are managed.  
We will cover:
- Creating a Resource Group to organize resources.
- Setting up a Virtual Network (VNet) with a Subnet.
- Deploying a Virtual Machine (VM).
- Configuring Network Security Group (NSG) rules.
- Accessing the VM using Bastion or SSH.
- Installing a web server (Nginx) on the VM.
- Cleaning up resources to avoid unnecessary costs.

---

## Step 1: Create a Resource Group
A **Resource Group** is a container that holds related Azure resources.  
It allows you to manage and organize resources as a single unit.  

Command to create a Resource Group named `myResourceGroup` in the `West Europe` region:


az group create --name myResourceGroup --location westeurope
`

*Explanation:*

* `az group create` → Azure CLI command to create a Resource Group.
* `--name` → specifies the Resource Group name.
* `--location` → specifies the Azure region where the resources will be deployed.

---

## Step 2: Create a Virtual Network (VNet) with Subnet

A **Virtual Network** is like a private network in Azure, and a **Subnet** divides it into smaller segments.

Command:


az network vnet create \
  --resource-group myResourceGroup \
  --name myVnet \
  --subnet-name mySubnet


*Explanation:*

* `az network vnet create` → creates a Virtual Network.
* `--resource-group` → the RG where it belongs.
* `--name` → the VNet name.
* `--subnet-name` → the Subnet name inside the VNet.

---

## Step 3: Deploy a Virtual Machine (VM)

The VM is the server where we will install applications like Nginx.
Here we create an **Ubuntu 22.04 LTS** VM with SSH authentication.

Command:


az vm create \
  --resource-group myResourceGroup \
  --name myVM \
  --image Ubuntu2204 \
  --admin-username azureuser \
  --generate-ssh-keys


*Explanation:*

* `az vm create` → deploys a VM.
* `--image` → specifies the OS image.
* `--admin-username` → your admin account.
* `--generate-ssh-keys` → automatically generates SSH keys for secure login.

---

## Step 4: Configure Network Security Group (NSG)

By default, VMs are protected. To access via SSH, we open port 22:


az vm open-port --port 22 --resource-group myResourceGroup --name myVM


*Explanation:*

* Opens a firewall rule for SSH.
* Ensures we can connect to the VM securely.

---

## Step 5: Access VM via Bastion or SSH

In production, VMs are usually **private**, so we use **Bastion** for access.
For testing, we can use the public IP with SSH:


ssh azureuser@<VM_Public_IP>


*Explanation:*

* Connects to the VM using the private key generated earlier.

---

## Step 6: Install Nginx

Once connected, update packages and install Nginx:


sudo apt update
sudo apt install nginx -y


*Explanation:*

* `sudo apt update` → updates package list.
* `sudo apt install nginx -y` → installs Nginx automatically without prompts.

---

## Step 7: Cleanup Resources

To avoid unnecessary billing, delete the Resource Group (which deletes all resources inside):


az group delete --name myResourceGroup --yes --no-wait


*Explanation:*

* Deletes everything in `myResourceGroup` at once.
* `--yes` → confirms deletion.
* `--no-wait` → runs asynchronously without waiting for completion.

---

## Notes

* The VM initially gets a **public IP** automatically for testing.
* In production, always keep VMs **private** and access them through **Bastion**.
* Document each step for reference and repeatability.
* Always delete resources to avoid unwanted charges.
